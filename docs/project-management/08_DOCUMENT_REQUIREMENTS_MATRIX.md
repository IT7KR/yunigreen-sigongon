# 상황별 필요 문서/생성 문서 매트릭스

> 시공ON 프로젝트에서 "어떤 경우에 어떤 문서가 필요하고, 어떤 방식으로 생성/확보해야 하는지"를 한눈에 보는 운영 기준 문서입니다.

**최초 작성**: 2026-02-05  
**기준 문서**:
- `docs/project-management/07_MEETING_DECISIONS_SUMMARY.md`
- `docs/project-management/05_DOCUMENT_WORKFLOW.md`
- `sample/` 디렉토리 실물 파일(2026-02-05 기준)
- `docs/project-management/request/20260205_hwp_policy_request.txt`

---

## 1. 문서 분류 기준

| 코드 | 분류 | 의미 |
|---|---|---|
| `AUTO` | 시스템 자동 생성 | DB/프로젝트 데이터로 즉시 생성 가능한 문서 |
| `TPL` | 템플릿 기반 생성 | 폼 입력값을 정해진 양식에 삽입해 생성 |
| `UPLOAD` | 사용자 업로드 | 외부 발급/스캔 문서를 첨부로 관리 |
| `EXT` | 외부 연동 생성 | 외부 API/서비스를 통해 생성 |

### 공통 원칙

1. **최신 결정 우선**: 본 문서는 `07_MEETING_DECISIONS_SUMMARY.md`의 최신 확정사항 기준.
2. **출력 형식 우선순위**: 한글 문서는 HWPX(HWP) 직접 생성, 계산/데이터 문서는 Excel, 배포/열람본은 PDF.
3. **HWP 원칙**: HWP 계열 문서는 PDF/DOCX 변환 대체가 아니라 HWP/HWPX 직접 생성이 기본.
4. **노무/세무 민감정보 원칙**: 주민번호 전체 저장 금지 전제로 신고 문서 생성.
5. **단가 계산 원칙**: 단가/합계 계산은 RDB 기반(비AI)으로만 수행.

---

## 2. 상황별 문서 필요/생성 매트릭스

## 2.1 공공공사: 계약 단계 (`quoted -> contracted`)

| 문서 | 필수 여부 | 생성 방식 | 기본 출력 | 비고/트리거 | 샘플 참조 |
|---|---|---|---|---|---|
| 견적내역서 | 필수 | `AUTO` | Excel | 견적 확정 시점 생성 | `sample/1. 관공서 계약서류/` |
| 시방서 | 필수 | `AUTO` | HWPX/HWP | 공종 확정 시 생성 | `sample/1. 관공서 계약서류/` |
| 수의계약체결제한여부확인서 | 필수(공공) | `TPL` | HWPX/HWP | 관공서 수의계약 제출 시 | `sample/1. 관공서 계약서류/` |
| 사업자 외 서류(사업자등록증 등) | 필수 | `UPLOAD` | PDF | 가입/계약 검증 자료 | `sample/1. 관공서 계약서류/` |
| 계약보증서 | 조건부(원칙 필수) | `UPLOAD` | PDF | 보증증권 제출 요구 시 | `sample/1. 관공서 계약서류/` |
| 계약보증금 지급각서 | 조건부 | `TPL` | HWPX/HWP | 계약보증서 대체 시 | `sample/1. 관공서 계약서류/` |
| 공사계약서(나라장터/S2B) | 조건부 | `UPLOAD` | PDF | 외부 플랫폼 계약건 | `sample/10. 공사계약서(나라장터, S2B)/` |

## 2.2 공공공사: 착공 단계 (`contracted -> in_progress`)

| 문서 | 필수 여부 | 생성 방식 | 기본 출력 | 비고/트리거 | 샘플 참조 |
|---|---|---|---|---|---|
| 착공공문 | 필수 | `TPL` | HWPX/HWP | 착공 통보 | `sample/2. 관공서 착공서류/` |
| 착공신고서 | 필수 | `TPL` | HWPX/HWP | 착공 신고 제출 | `sample/2. 관공서 착공서류/` |
| 계약내역서 | 필수 | `AUTO` | Excel | 견적/계약 데이터 기반 | `sample/2. 관공서 착공서류/` |
| 노무비 관련 서류 | 필수 | `TPL` + `AUTO` | HWPX/HWP 또는 Excel | 착공 시 노무관리 제출 | `sample/2. 관공서 착공서류/`, `sample/5. 일용신고 서류/` |
| 안전보건관리 준수 서약서 | 필수 | `TPL` | HWPX/HWP | 안전관리 제출 | `sample/2. 관공서 착공서류/` |
| 착공 전 사진 자료 | 필수 | `AUTO` | PDF | 착공 전 상태 증빙 | `sample/2. 관공서 착공서류/` |
| 현장대리인/재직증명서류 | 조건부 | `UPLOAD` | PDF | 발주처 요구 시 | `sample/2. 관공서 착공서류/` |
| 직접시공계획서 | 조건부 | `UPLOAD` | PDF | 특정 발주처 요구 | `sample/2. 관공서 착공서류/` |
| 안전보건관리계획서 | 조건부 | `UPLOAD` | PDF | 발주처/규모 조건 | `sample/2. 관공서 착공서류/` |

## 2.3 시공 단계 (`in_progress`)

| 문서 | 필수 여부 | 생성 방식 | 기본 출력 | 비고/트리거 | 샘플 참조 |
|---|---|---|---|---|---|
| 공사일지 | 필수 | `AUTO` | PDF/Excel | 일일 기록 | `sample/7. 공사일지/` |
| 일용근로계약서 | 필수(일용 인력 투입 시) | `AUTO` | HWPX/HWP | 근로자 당일 투입 시 | `sample/5. 일용신고 서류/` |
| 현장 점검 보고서(누수소견서) | 필수(진단 필요 시) | `AUTO` + AI | PDF/Excel | 사진/점검 데이터 기반 | `sample/8. 누수소견서(현장 점검 보고서)/` |

## 2.4 준공 단계 (`completed`)

| 문서 | 필수 여부 | 생성 방식 | 기본 출력 | 비고/트리거 | 샘플 참조 |
|---|---|---|---|---|---|
| 준공공문 | 필수 | `TPL` | HWPX/HWP | 준공 통보 | `sample/3. 관공서 준공서류/` |
| 준공계 | 필수 | `TPL` | HWPX/HWP | 준공 신고 핵심 문서 | `sample/3. 관공서 준공서류/` |
| 준공내역서 | 필수 | `AUTO` | Excel | 계약 대비 최종 금액 반영 | `sample/3. 관공서 준공서류/` |
| 준공사진첩 | 필수 | `AUTO` | PDF/DOCX | 전/중/후 사진 편집본 | `sample/3. 관공서 준공서류/` |
| 노무비 증빙(지급명세/인적사항/위임장 등) | 필수 | `AUTO` + `UPLOAD` | Excel/PDF | 제출 양식 준수 | `sample/3. 관공서 준공서류/`, `sample/5. 일용신고 서류/` |
| 하자보수보증(증권/지급각서) | 필수(준공 후) | `UPLOAD`/`TPL` | PDF 또는 HWPX/HWP | 발주처 요구 방식에 따름 | `sample/3. 관공서 준공서류/` |
| 준공정산동의서 | 조건부 | `TPL` | HWPX/HWP | 준공금 변동 시 | `sample/3. 관공서 준공서류/` |
| 산업안전보건관리비 집행내역 | 조건부 | `UPLOAD` | PDF/Excel | 일정 금액 이상 공사 시 | `sample/3. 관공서 준공서류/` |
| 폐기물 증빙 | 조건부 | `UPLOAD` | PDF | 해당 공사에서 발생 시 | `sample/3. 관공서 준공서류/` |

## 2.5 하자보수 단계 (`warranty`)

| 문서 | 필수 여부 | 생성 방식 | 기본 출력 | 비고/트리거 | 샘플 참조 |
|---|---|---|---|---|---|
| 하자보수보증 문서 | 필수 | `UPLOAD`/`TPL` | PDF 또는 HWPX/HWP | 보증기간 내 대응/제출 | `sample/3. 관공서 준공서류/` |
| 하자 처리 이력(내부) | 필수(운영) | `AUTO` | PDF/Excel | 하자 접수/처리 추적 | 관련 샘플 없음(신규 정의 필요) |

## 2.6 민간 계약 케이스

| 문서 | 필수 여부 | 생성 방식 | 기본 출력 | 비고/트리거 | 샘플 참조 |
|---|---|---|---|---|---|
| 공사도급표준계약서 | 필수 | `EXT` (Modusign) | PDF | 민간 계약 체결 | `sample/6. 민간 계약관련 서류(간단)/` |
| 견적내역서 | 필수 | `AUTO` | Excel | 견적 제안/합의 | `sample/1. 관공서 계약서류/`(형식 참조) |
| 시방서 | 권장 | `AUTO` | HWPX/HWP | 공종/작업범위 명시 | `sample/1. 관공서 계약서류/`(형식 참조) |

## 2.7 학교 발주 특수 케이스

| 문서 | 필수 여부 | 생성 방식 | 기본 출력 | 비고/트리거 | 샘플 참조 |
|---|---|---|---|---|---|
| 교육청 원클릭 파일 | 필수(학교 발주) | `TPL` | XLSM | 교육청 제출 양식 준수 | `sample/9. 학교 서류/` |
| 수도/전기 공문 | 조건부 | `TPL` | HWPX/HWP | 학교 현장 공문 처리 | `sample/9. 학교 서류/` |

## 2.8 일용 노무신고 케이스(월/분기)

| 문서 | 주기 | 생성 방식 | 기본 출력 | 비고/트리거 | 샘플 참조 |
|---|---|---|---|---|---|
| 근로내용확인신고 | 월간 | `AUTO` | Excel/PDF | 근로복지공단 신고 | `sample/5. 일용신고 서류/` |
| 현장별 일용노무비 지급명세서 | 월간 | `AUTO` | Excel | 현장별 지급 정리 | `sample/5. 일용신고 서류/` |
| 일용근로지급명세서(국세청) | 분기 | `AUTO` | Excel | 국세청 제출 | `sample/5. 일용신고 서류/` |
| 일용근로 표준계약서 | 투입 시 | `AUTO` | HWPX/HWP | 전자 동의/서명 포함 | `sample/5. 일용신고 서류/` |

---

## 3. sample 디렉토리 기준 정리 (현재 구조 해석)

| sample 폴더 | 운영 케이스 | 기본 성격 | 비고 |
|---|---|---|---|
| `1. 관공서 계약서류` | 공공 계약 | 혼합(`AUTO`/`TPL`/`UPLOAD`) | 계약단계 핵심 기준 샘플 |
| `2. 관공서 착공서류` | 공공 착공 | 혼합(`TPL`/`UPLOAD`/`AUTO`) | 착공 신고/공문 기준 |
| `3. 관공서 준공서류` | 공공 준공 | 혼합(`AUTO`/`TPL`/`UPLOAD`) | 샘플 수량 가장 많음 |
| `4. 종합적산정보` | 견적 엔진 | 참조(`AUTO` 입력 원천) | RAG/가격 데이터 소스 |
| `5. 일용신고 서류` | 노무 신고 | `AUTO` + 템플릿 참조 | 월/분기 신고 양식 |
| `6. 민간 계약관련 서류(간단)` | 민간 계약 | 참조 + `EXT` | Modusign 대상 |
| `7. 공사일지` | 시공 | 참조(`AUTO` 목표) | 현재 샘플 1건 |
| `8. 누수소견서(현장 점검 보고서)` | 진단 | 참조(`AUTO`+AI 목표) | AI 산출물 형식 기준 |
| `9. 학교 서류` | 학교 특수 | `TPL` 참조 | xlsm 포함 |
| `10. 공사계약서(나라장터, S2B)` | 외부 플랫폼 계약 | `UPLOAD` 참조 | 외부 원본 보관 |
| `11. 로고 관련 색상` | 브랜딩 | 참조 | UI/문서 디자인 기준 |

---

## 4. 문서 생성 책임 기준

| 책임 주체 | 담당 범위 | 예시 |
|---|---|---|
| 시스템 백엔드 | `AUTO` 생성 로직/버전 관리 | 견적내역서, 준공내역서, 공사일지 |
| 템플릿 엔진(시스템) | `TPL` 문서 렌더링 | 공문류, 지급각서, 신고 템플릿 |
| 외부 API | `EXT` 문서 생성/서명 | Modusign, Popbill |
| 사용자(대표/소장/관리자) | `UPLOAD` 문서 확보/제출 | 보증서, 면허증, 계획서 |

---

## 5. 바로 적용할 정리 액션

1. `sample` 루트에 인덱스 문서(`sample/README.md`)를 유지하고, 신규 샘플 추가 시 용도(`AUTO/TPL/UPLOAD/EXT`)를 반드시 기록.
2. 샘플 파일명에 프로젝트/문서유형/날짜를 포함해 중복 샘플을 구분.
3. 시스템 생성 대상 문서 중 한글 계열은 최종 출력 목표를 HWPX(HWP)로 명시.
4. `07_MEETING_DECISIONS_SUMMARY.md` 변경 시 본 문서(케이스 매트릭스)도 같이 갱신.

---

## 6. 빠른 참조: 어떤 경우에 어떤 문서?

- **견적 확정 직전(공공)**: 견적내역서, 시방서, 수의계약체결제한여부확인서, 계약보증서/지급각서
- **착공 신고 시점**: 착공공문, 착공신고서, 계약내역서, 노무/안전 서류, 착공 전 사진
- **공사 진행 중**: 공사일지, 일용근로계약서, 현장 점검 보고서
- **준공 제출 시점**: 준공공문, 준공계, 준공내역서, 준공사진첩, 노무비 증빙, 하자보수보증
- **학교 발주 건**: 위 공공 문서 + 교육청 원클릭(xlsm), 수도/전기 공문
- **민간 계약 건**: 공사도급표준계약서(Modusign), 견적내역서, 시방서
- **월/분기 노무 신고**: 근로내용확인신고(월), 지급명세서(월/분기), 일용근로계약서
