# 프로젝트 문서 워크플로우 매핑

> 유니그린 SaaS 플랫폼의 프로젝트 생애주기별 필요 문서와 생성 방식을 정의합니다.

> **정책 업데이트 (2026-02-05)**: 한글 문서는 PDF 변환이 아닌 **HWP/HWPX 직접 생성**을 기본으로 합니다.

---

## 목차

- [프로젝트 상태 흐름](#프로젝트-상태-흐름)
- [단계별 필요 문서 매핑](#단계별-필요-문서-매핑)
- [문서 생성 방식 분류](#문서-생성-방식-분류)
- [다운로드 기능 구현 방향](#다운로드-기능-구현-방향)
- [구현 우선순위](#구현-우선순위)

---

## 프로젝트 상태 흐름

프로젝트는 다음의 8단계 상태를 순차적으로 거칩니다.

```
draft(초안)
  ↓
diagnosing(진단)
  ↓
estimating(적산)
  ↓
quoted(견적완료)
  ↓
contracted(계약)
  ↓
in_progress(시공중)
  ↓
completed(준공)
  ↓
warranty(하자보수)
  ↓
closed(종료)
```

각 상태 전환 시점에 필요한 문서가 발생하며, 해당 문서를 자동으로 생성하거나 업로드하여 관리합니다.

---

## 단계별 필요 문서 매핑

### PHASE 1: 계약 단계 (계약서류)

**폴더 구조**: `1. 관공서 계약서류/`

현장 계약 시 필요한 모든 서류입니다. 견적 결정 후 계약 체결 전 단계에 준비됩니다.

| 문서명 | 출력 형식 | 생성 방식 | 설명 |
|--------|---------|---------|------|
| **견적내역서** | Excel | 시스템 자동 생성 | AI 진단 + 적산정보 기반 자동 생성. 공종/단가/합계 자동 계산 |
| **수의계약체결제한여부확인서** | HWPX / HWP | 템플릿 기반 | 사업자 정보 기반 자동 작성 |
| **시방서** | HWPX / HWP | 시스템 자동 생성 | 선정된 공종 기반 자동 생성 |
| **사업자 외 서류** | PDF | 사용자 업로드 | 회원가입 시 등록한 서류(사업자등록증, 통장사본 등) 활용 |
| **계약보증서** | PDF | 사용자 업로드 | 전문건설공제조합 발급 보증서 또는 지급각서 |
| **계약보증금 지급각서** | HWPX / HWP | 템플릿 기반 | 보증서 대체 시 사용. 사업자 정보 자동 삽입 |

---

### PHASE 2: 착공 단계

**폴더 구조**: `2. 관공서 착공서류/`

현장 공사 시작 전 관공서에 신고하는 서류들입니다.

| 문서명 | 출력 형식 | 생성 방식 | 설명 |
|--------|---------|---------|------|
| **착공공문** | HWPX / HWP | 템플릿 기반 | 발주자/건물주 정보 자동 삽입 |
| **착공신고서** | HWPX / HWP | 템플릿 기반 | 건설업 신고(발주청) 또는 관공서 양식 |
| **현장대리인 서류** | PDF | 사용자 업로드 | 기술자격 증명서, 보험료 영수증 |
| **계약내역서** | Excel | 시스템 자동 생성 | Phase 1의 견적내역서와 동일 |
| **노무비 서류** | HWPX / HWP | 템플릿 기반 | 상용근로자/일용근로자 중 선택 |
| **안전보건 서약서** | HWPX / HWP | 템플릿 기반 | 안전관리자 및 담당자 서명 |
| **착공 전 사진** | PDF | 시스템 자동 생성 | 현장 사진첩으로 자동 생성 |
| **직접시공계획서** | PDF | 사용자 업로드 | 유니그린 내부 용도 |
| **안전보건관리계획서** | PDF | 사용자 업로드 | 안전관리사 작성 문서 |

---

### PHASE 3: 시공 단계

**폴더 구조**: `7. 공사일지/`

공사 진행 중 일일 관리 문서들입니다.

| 문서명 | 출력 형식 | 생성 방식 | 설명 |
|--------|---------|---------|------|
| **공사일지** | PDF / Excel | 시스템 자동 생성 | 날짜/날씨/인력/자재/특이사항 자동 기록 |
| **일용근로계약서** | HWPX / HWP | 시스템 자동 생성 | 근로자별 일일 계약서. 사인 이미지 저장 |
| **현장점검보고서** | PDF | AI 기반 생성 | 촬영 사진 기반 AI 분석 → 점검 항목 자동 생성 |

---

### PHASE 4: 준공 단계

**폴더 구조**: `3. 관공서 준공서류/`

공사 완료 시 준공 인가 및 검사 관련 서류입니다.

| 문서명 | 출력 형식 | 생성 방식 | 설명 |
|--------|---------|---------|------|
| **준공공문** | HWPX / HWP | 템플릿 기반 | 발주자/건물주 통지 |
| **준공계** | HWPX / HWP | 템플릿 기반 | 공사 기본 정보(기간, 금액, 공종 등) 자동 삽입 |
| **준공내역서** | Excel | 시스템 자동 생성 | Phase 1 견적내역서 변동 반영 |
| **준공정산동의서** | HWPX / HWP | 템플릿 기반 | 조건부 발생. 공사금액 변경 시 작성 |
| **준공사진첩** | PDF / DOCX | 시스템 자동 생성 | 선택 사진 콜라주. 3열/4열 레이아웃 선택 가능 |
| **노무비 증빙자료** | Excel / PDF | 사용자 업로드 | 상용/일용/위임 중 선택 |
| **산업안전관리비 집행내역** | Excel | 사용자 업로드 | 2,000만원 이상 공사에서만 필수 |
| **하자보수보증** | PDF | 사용자 업로드 | 보증보험 또는 지급각서 |
| **폐기물 증빙** | PDF | 사용자 업로드 | 폐기물 처리 증명서 |
| **납세증명원** | PDF | 사용자 업로드 | 국세청 발급 또는 자동 조회 (연동 검토 중) |

---

### PHASE 5: 일용신고 서류

**폴더 구조**: `5. 일용신고 서류/`

근로자 급여 신고 및 노무 관리 관련 문서들입니다.

| 문서명 | 출력 형식 | 생성 방식 | 설명 |
|--------|---------|---------|------|
| **근로내용확인신고** | PDF / Excel | 시스템 자동 생성 | 매월 1회. 일용근로자 근무 내용 |
| **일용근로지급명세서** | PDF / Excel | 시스템 자동 생성 | 분기별 작성. 총급여, 공제액, 순급여 |
| **일용근로계약서** | PDF | 시스템 자동 생성 | Phase 3에서도 발생. 계약 기록 용 |

---

### PHASE 6: 민간 계약

**폴더 구조**: `6. 민간 계약관련 서류/`

민간 발주처와의 계약 서류입니다.

| 문서명 | 출력 형식 | 생성 방식 | 설명 |
|--------|---------|---------|------|
| **공사도급표준계약서** | PDF | 외부 연동 | 모두싸인 API 연동. 전자서명 지원 |

---

### PHASE 7: 학교 특수 서류

**폴더 구조**: `9. 학교 서류/`

학교 발주 프로젝트에만 필요한 특수 서류입니다.

| 문서명 | 출력 형식 | 생성 방식 | 설명 |
|--------|---------|---------|------|
| **교육청 원클릭 프로그램** | XLSX / XLS | 템플릿 기반 | .xlsm 파일. 교육청 시스템 제출용 |
| **수도/전기 공문** | HWPX / HWP | 템플릿 기반 | 수도/전기 회사 통보용 |

---

## 문서 생성 방식 분류

프로젝트 전체에서 필요한 문서를 생성 방식별로 분류하면 다음과 같습니다.

| 생성 방식 | 문서 수 | 설명 | 예시 |
|---------|-----:|------|------|
| **시스템 자동 생성** | ~12종 | DB 데이터 기반으로 시스템이 직접 생성. 수정 후 다시 생성 가능 | 견적내역서, 공사일지, 일용근로계약서 |
| **템플릿 기반 생성** | ~15종 | 미리 작성된 양식에 사용자 데이터를 삽입하여 생성 | 공문류, 지급각서, 신고 양식 |
| **AI 기반 생성** | ~2종 | 사진/데이터를 AI 분석하여 내용 자동 생성 | 현장점검보고서, 시공기준 추천 |
| **외부 연동** | ~2종 | 외부 서비스 API 연동으로 생성 | 전자서명(모두싸인), 전자세금계산서(팝빌) |
| **사용자 업로드** | ~10종 | 사용자가 별도로 준비하여 시스템에 업로드 | 보증서, 신분증, 안전관리계획서 |

---

## 다운로드 기능 구현 방향

### 다운로드 흐름별 구현

#### 1. 자동 생성 문서

```
[생성 버튼] → (시스템이 DB 데이터 조회) → [다운로드]
```

**적용 문서**: 견적내역서, 공사일지, 일용근로계약서, 준공내역서 등

- 사용자가 "생성" 버튼 클릭
- 시스템이 해당 프로젝트의 데이터 조회
- 파일 생성 완료 후 즉시 다운로드 링크 제공

#### 2. 템플릿 기반 생성

```
[생성 버튼] → (사용자가 폼 입력) → (템플릿에 데이터 삽입) → [다운로드]
```

**적용 문서**: 착공공문, 준공계, 안전보건 서약서 등

- 생성 버튼 클릭 시 입력 폼 표시
- 필수/선택 항목 입력
- 데이터를 템플릿에 자동 삽입
- 생성 완료 후 다운로드

#### 3. 사용자 업로드 문서

```
[업로드 버튼] → (파일 선택/업로드) → [다운로드] / [삭제]
```

**적용 문서**: 보증서, 신분증, 사업자등록증, 안전관리계획서 등

- 업로드 버튼 클릭
- 파일 선택 및 업로드
- 업로드된 파일 목록 표시
- 다운로드/삭제/재업로드 가능

#### 4. 일괄 다운로드 (ZIP)

```
[일괄 다운로드] → (폴더별/단계별 선택) → [ZIP 생성] → [다운로드]
```

**사용 사례**:
- 착공 단계 서류 일괄 다운로드
- 준공 단계 서류 일괄 다운로드
- 전체 프로젝트 서류 일괄 다운로드

### 출력 형식 결정 기준

| 문서 유형 | 권장 형식 | 대체 형식 | 비고 |
|----------|---------|---------|------|
| **견적내역서** | Excel | - | 편집 및 재인쇄 필요성 높음 |
| **계약서** | PDF | - | 법적 효력 증명 필요 |
| **사진첩** | PDF | DOCX | 원본 편집 필요 시 DOCX |
| **시방서** | HWPX / HWP | PDF | 제출처 요청 시 PDF 병행 가능 |
| **공문/신고** | HWPX / HWP | PDF | 제출처 요청 시 PDF 병행 가능 |
| **일용근로계약** | HWPX / HWP | PDF | 서명/보관용 PDF 병행 가능 |
| **공사일지** | PDF, Excel | - | 날짜별 조회 시 Excel |

**한글 문서 생성 정책 (2026-02-05 기준)**:
- 한글 문서는 HWP/HWPX 직접 생성이 기본입니다.
- PDF는 제출처/열람 편의를 위한 보조 출력으로만 사용합니다.
- 템플릿 문서(공문/각서/시방서)는 HWPX 우선, 필요 시 HWP도 병행 지원합니다.

---

## 구현 우선순위

개발 단계별로 구현할 문서 기능의 우선순위를 다음과 같이 설정합니다.

### P0 (1차 필수)

**특징**: 핵심 비즈니스 로직 포함. 반드시 포함되어야 함.

| 문서 | 설명 | 영향도 |
|------|------|-------|
| **견적내역서** | AI 진단 → 적산정보 연동 → 견적 자동 생성. SaaS의 핵심 가치 | 극높음 |
| **계약서** | 전자서명(모두싸인) 연동. 계약 프로세스 완성 | 극높음 |
| **공사일지** | 시공 단계의 일일 관리. 노무비 신고 기초 데이터 | 높음 |
| **준공사진첩** | 준공 인가의 필수 서류. 콜라주 자동 생성 | 높음 |
| **세금계산서** | 팝빌 API 연동. 민간 거래 필수 (관공서는 계산서) | 높음 |

**목표 개발 기간**: 2026.04.30까지

---

### P1 (2차 중요)

**특징**: 계약 단계 및 착공 단계 필수 서류.

| 문서 | 설명 | 영향도 |
|------|------|-------|
| **공문 템플릿** | 착공공문, 준공공문 등. 관공서 제출용 | 중높음 |
| **시방서** | 공종 결정 후 자동 생성. 계약 시 포함 | 중높음 |
| **일용근로계약서** | Phase 3과 동일. 현장 근로자 관리 기초 | 중높음 |
| **노무비 신고자료** | 월/분기별 신고 양식. 세무 신고 연동 | 중높음 |
| **내역서 변환** | 견적 → 준공 내역서 변환 (금액 조정 반영) | 중 |

**목표 개발 기간**: 2026.05.15까지

---

### P2 (3차 보조)

**특징**: 부가 기능 및 관리 용도.

| 문서 | 설명 | 영향도 |
|------|------|-------|
| **증빙 업로드/관리** | 보증서, 신분증, 사업자등록증 등 | 중 |
| **하자보수 관리** | 보증 기간 추적 및 문서 보관 | 중 |
| **안전관리비** | 2,000만원 이상 공사 집행 내역 | 낮음-중 |
| **폐기물 증빙** | 폐기물 처리 증명서 관리 | 낮음-중 |

**목표 개발 기간**: 2026.05.30까지

---

### P3 (4차 선택)

**특징**: 특수 용도 또는 향후 확장 기능.

| 문서 | 설명 | 영향도 |
|------|------|-------|
| **학교 서류** | 교육청 원클릭 프로그램 (.xlsm) | 낮음 |
| **교육청 원클릭** | 교육청 시스템 직접 제출 | 낮음 |
| **나라장터 연동** | 계정 기반 계약 조회 (API 미제공 예상) | 낮음 |

**목표 개발 기간**: 2026.06월 이후 또는 고객 요청 시

---

### 단계별 개발 일정

```
1차 착수~2월: 분석/설계 (스토리보드 포함)
2월~3월: P0 문서 기능 개발
3월~4월: P1 문서 기능 개발 + P0 QA
4월~5월: P2 문서 기능 개발 + P1 QA
5월~5월30일: 통합 테스트 및 버그 수정
5월15일~: QA 서버 오픈 (테스트)
6월~: 베타 테스트 (실제 현장 적용)
```

---

## 추가 고려사항

### 데이터 입력 최소화

- 한 번 입력한 데이터는 여러 문서에서 자동 활용
- 예: 사업자 정보 → 공문류, 시방서, 신고 양식 등에 자동 삽입
- 수정 시 한 곳만 변경해도 연동 문서 자동 갱신

### 버전 관리

- 같은 문서도 여러 버전 필요 (초안, 최종, 제출본)
- 각 버전에 생성 날짜 및 수정 이력 표시
- 준공 후 아카이빙 (보관 기간: 5년)

### 접근권한 관리

- 관리자: 모든 문서 조회/수정/삭제
- 담당자: 할당된 프로젝트만 조회/생성
- 작업자: 조회만 가능

### 감사 로그

- 문서 생성/수정/다운로드 기록
- 누가, 언제, 어떤 문서를 작업했는지 추적
- 법적 분쟁 시 증거 자료로 활용

---

## 6. 업무 프로세스 단계별 Sample 파일 매핑

미팅 회의록(2026-01-21) 기준 업무 프로세스 15단계와 `sample/` 디렉토리 내 실제 파일 매핑입니다.

### Step 1: 견적 요청 접수
- 필요 서류: 없음

### Step 2: 현장 방문
- 필요 서류: 없음 (시스템 내 방문 기록)

### Step 3: 현장 확인 및 진단
| 문서명 | Sample 파일 |
|--------|------------|
| 현장 점검 보고서 (누수소견서) | `sample/8. 누수소견서(현장 점검 보고서)/1. 현장 점검 보고서_합격의 법학원.xlsx` |
| | `sample/8. 누수소견서(현장 점검 보고서)/2. 현장 점검 보고서_성수동.xlsx` |

### Step 4: 현장 사진 촬영 및 면적 산출
- 필요 서류: 없음 (시스템 내 사진 업로드)

### Step 5: 시공법 결정 및 견적 산출
| 문서명 | Sample 파일 |
|--------|------------|
| 견적내역서 | `sample/1. 관공서 계약서류/1. 견적내역서_연동경로당 외 1개소(성산1동 제2경로당) 도장 및 방수공사_25.08.26..xlsx` |
| 시방서 | `sample/1. 관공서 계약서류/3. 시방서_연동경로당 외 1개소(성산1동 제2경로당) 도장 및 방수공사.hwp` |

### Step 6: 견적서 발송
- 필요 서류: 없음 (시스템에서 발송)

### Step 7: 계약 체결
| 문서명 | Sample 파일 | 비고 |
|--------|------------|------|
| 수의계약체결제한여부확인서 | `sample/1. 관공서 계약서류/2. 수의계약체결제한여부확인서_연동경로당 외 1개소(성산1동 제2경로당) 도장 및 방수공사.hwp` | |
| 사업자 외 서류 | `sample/1. 관공서 계약서류/4. 사업자외 서류_(주)유니그린개발.pdf` | |
| 계약보증서 | `sample/1. 관공서 계약서류/5. 계약보증서_대경중학교 본관동 균열보수공사.pdf` | |
| 계약보증금 지급각서 | `sample/1. 관공서 계약서류/5-1. 계약보증금 지급각서.hwp` | 조건부: 보증서 대체 시 |
| 공사도급표준계약서 | `sample/6. 민간 계약관련 서류(간단)/1. 공사도급표준계약서(공사 전 계약에 필요한 서류).hwp` | 조건부: 민간 계약 시 |
| 나라장터/S2B 계약서 | `sample/10. 공사계약서(나라장터, S2B)/나라장터 계약서.pdf` | 조건부: 관공서 계약 시 |

### Step 8: 착공 서류 제출
| 문서명 | Sample 파일 |
|--------|------------|
| 착공공문 | `sample/2. 관공서 착공서류/0. 착공공문.hwp` |
| 착공신고서 | `sample/2. 관공서 착공서류/1. 착공신고서.hwp` |
| 재직증명서 (현장대리인) | `sample/2. 관공서 착공서류/2. 재직증명서_이시대(현장대리인).hwp` |
| 계약내역서 | `sample/2. 관공서 착공서류/3. 계약내역서_하하호호 장난감도서관 잠실점 방수공사.xlsx` |
| 노무비 관련 서류 | `sample/2. 관공서 착공서류/4. 노무비 관련 서류.hwp` |
| 안전보건관리 준수 서약서 | `sample/2. 관공서 착공서류/5. 안전보건관리 준수 서약서.hwp` |
| 착공 전 사진 | `sample/2. 관공서 착공서류/6. 착공 전 사진.hwp` |
| 직접시공계획서 | `sample/2. 관공서 착공서류/7. 직접시공계획서.hwp` |
| 안전보건관리계획서 | `sample/2. 관공서 착공서류/8. 안전보건관리계획서(산업안전보건관리비 사용계획서 포함).hwp` |
| **[예시]** 착공서류 완성본 | `sample/2. 관공서 착공서류/(최종스캔본) 착공서류_하하호호 장난감도서관 잠실점 방수 공사.pdf` |

### Step 9: 시공 (작업일지 작성)
| 문서명 | Sample 파일 |
|--------|------------|
| 공사일지 | `sample/7. 공사일지/공사일지_방배중 외1교(역삼중)균열보수공사_25.08.08.hwp` |

### Step 10: 일용직 근로 관리
| 문서명 | Sample 파일 | 비고 |
|--------|------------|------|
| 근로내용확인신고 | `sample/5. 일용신고 서류/근로내용확인신고_전자신고용.xlsx` | 매월, 근로복지공단 |
| 일용근로지급명세서 | `sample/5. 일용신고 서류/일용근로지급명세서 일괄등록 양식_일용근로소득_국세청 양식.xlsx` | 분기, 국세청 |
| 표준근로계약서 | `sample/5. 일용신고 서류/서울시+건설일용근로자+표준근로계약서(2019.2_개정_서울계약마당).hwp` | |

### Step 11: 준공 서류 제출
| 문서명 | Sample 파일 | 비고 |
|--------|------------|------|
| 준공공문 | `sample/3. 관공서 준공서류/0. 준공공문.hwp` | |
| 준공계 | `sample/3. 관공서 준공서류/1. 준공계.hwp` | |
| 준공내역서 | `sample/3. 관공서 준공서류/2. 준공내역서.xlsx` | |
| 준공내역서 (금액 변동 시) | `sample/3. 관공서 준공서류/2-1. 준공내역서_준공금액이 계약금액과 상이한 경우.xlsx` | 조건부 |
| 준공정산동의서 | `sample/3. 관공서 준공서류/3. 준공정산동의서(준공금 변동이 있을 경우에만 작성).pdf` | 조건부 |
| 준공사진첩 | `sample/3. 관공서 준공서류/4. 준공사진첩.xlsx` | |
| 일용명세서 | `sample/3. 관공서 준공서류/5. 일용명세서_대경중(제출).xlsx` | |
| 노무비 미체불확약서/지급내역서 | `sample/3. 관공서 준공서류/5-1. 노무비 미체불확약서,지급내역서.hwp` | |
| 근로자 인적사항표 | `sample/3. 관공서 준공서류/5-2. 근로자 인적사항표.hwp` | |
| 위임장 | `sample/3. 관공서 준공서류/5-3. 위임장.xlsx` | 조건부: 인력사무소 대납 시 |
| 산업안전보건관리비 집행내역 | `sample/3. 관공서 준공서류/6. 산업안전보건관리비 집행내역 증빙자료.hwp` | 조건부: 2천만원 이상 |
| 하자보수보증금 지급각서 | `sample/3. 관공서 준공서류/7. 하자보수보증금 지급각서(발주처에서 요청하는 경우 하자보증증권으로 제출).hwp` | |
| **[예시]** 준공서류 완성본 | `sample/3. 관공서 준공서류/준공서류_대경중학교 본관동 균열보수공사.pdf` 외 2건 | |

### Step 12: 수도광열비 처리 (학교 프로젝트)
| 문서명 | Sample 파일 | 비고 |
|--------|------------|------|
| 수도전기공문 | `sample/9. 학교 서류/1. 수도전기공문.hwp` | 학교 준공 시 |
| 교육청 원클릭 프로그램 | `sample/9. 학교 서류/공사서류 원클릭 프로그램(2025.3.수정)-서울시교육청용.xlsm` | VBA 매크로 |

### Step 13: 세금계산서 발행
- 필요 서류: 없음 (팝빌 시스템 연동)

### Step 14: 하자보증 관리
- 필요 서류: 없음 (시스템 내 관리)

### Step 15: 대금 수령 완료
- 필요 서류: 없음

### 참조 데이터 (슈퍼관리자 관리)
| 문서명 | Sample 파일 |
|--------|------------|
| 종합적산정보 (8개 분야) | `sample/4. 종합적산정보/1. 공통_종합적산정보 2026년 상반기.pdf` 외 7건 |

> 총 59개 Sample 파일이 11개 카테고리에 분포되어 있습니다.

---

## 관련 참고자료

- [04_PRE_CONTRACT_MEETINGS.md](./04_PRE_CONTRACT_MEETINGS.md) - 계약 전 미팅 기록 및 기술 결정사항
- [01_CLIENT_REQUIREMENTS.md](./01_CLIENT_REQUIREMENTS.md) - 클라이언트 초기 요구사항
